import PluginBase from 'chrome-extension://lnnmjmalakahagblkkcnjkoaihlfglon/dist/modules/plugin-base.js';import ExtensionUtil from 'chrome-extension://lnnmjmalakahagblkkcnjkoaihlfglon/dist/modules/extension-util.js';var u="https://play.spotify.com/",y="*://*.spotify.com/*",r=/.*\.spotify\.com/,e;(function(t){t.Next='button[data-testid="control-button-skip-forward"]',t.Play='button[data-testid="control-button-play"]',t.Previous='button[data-testid="control-button-skip-back"]',t.Pause='button[data-testid="control-button-pause"]'})(e||(e={}));function n(t){let a=document.querySelector(t);a&&a.click()}async function c(){return new Promise(t=>chrome.tabs.query({url:y},a=>{t(a.length?a[0]:null)}))}async function l(){return new Promise(t=>chrome.tabs.create({url:u},a=>t(a)))}async function i(t,a=null){let o=a||await c();return new Promise(s=>{if(o&&o.id)return chrome.tabs.sendMessage(o.id,{type:"postMessage",control:t},()=>{s(!0)});s(!1)})}var p={...PluginBase,languages:{},niceName:"Spotify",description:"An experimental plugin for spotify.com",match:r,version:"0.0.9",apiVersion:2,authors:"Ahmed Kamal",init:function(){r.test(window.location.origin)&&chrome.runtime.onMessage.addListener((t,a,o)=>{if(t.type==="postMessage"){switch(t.control){case e.Play:{n(e.Play);break}case e.Pause:n(e.Pause);break;case e.Next:n(e.Next);break;case e.Previous:n(e.Previous);break;default:break}o(null)}})},commands:[{name:"spotify play",description:"Play the Spotify web player.",global:!0,match:"spotify play",fn:async function(){let t=await c();t||prompt("Spotify player seems to be closed, do you want me to open it?","yes")==="yes"&&(t=await l()),await i(e.Play,t)}},{name:"spotify pause",description:"Pause the Spotify web player.",global:!0,match:"spotify pause",fn:async function(){await i(e.Pause)}},{name:"spotify next",description:"Moves to the next song on the Spotify web player.",global:!0,match:"spotify next",fn:async function(){await i(e.Next)}},{name:"spotify previous",description:"Moves to the previous song on the Spotify web player.",global:!0,match:"spotify previous",fn:async function(){await i(e.Previous)}}]},f=p;export{f as default};
LS-SPLITallPlugins.Spotify=(()=>{var s="https://play.spotify.com/",i="*://*.spotify.com/*",c=/.*\.spotify\.com/,e;(function(t){t.Next='button[data-testid="control-button-skip-forward"]',t.Play='button[data-testid="control-button-play"]',t.Previous='button[data-testid="control-button-skip-back"]',t.Pause='button[data-testid="control-button-pause"]'})(e||(e={}));function r(t){let a=document.querySelector(t);a&&a.click()}async function u(){return new Promise(t=>chrome.tabs.query({url:i},a=>{t(a.length?a[0]:null)}))}async function l(){return new Promise(t=>chrome.tabs.create({url:s},a=>t(a)))}async function y(t,a=null){let n=a||await u();return new Promise(o=>{if(n&&n.id)return chrome.tabs.sendMessage(n.id,{type:"postMessage",control:t},()=>{o(!0)});o(!1)})}return{...PluginBase,init:function(){c.test(window.location.origin)&&chrome.runtime.onMessage.addListener((t,a,n)=>{if(t.type==="postMessage"){switch(t.control){case e.Play:{r(e.Play);break}case e.Pause:r(e.Pause);break;case e.Next:r(e.Next);break;case e.Previous:r(e.Previous);break;default:break}n(null)}})},commands:{}}})();
LS-SPLITallPlugins.Spotify=(()=>{var s="https://play.spotify.com/",i="*://*.spotify.com/*",c=/.*\.spotify\.com/,e;(function(t){t.Next='button[data-testid="control-button-skip-forward"]',t.Play='button[data-testid="control-button-play"]',t.Previous='button[data-testid="control-button-skip-back"]',t.Pause='button[data-testid="control-button-pause"]'})(e||(e={}));function r(t){let a=document.querySelector(t);a&&a.click()}async function u(){return new Promise(t=>chrome.tabs.query({url:i},a=>{t(a.length?a[0]:null)}))}async function l(){return new Promise(t=>chrome.tabs.create({url:s},a=>t(a)))}async function y(t,a=null){let n=a||await u();return new Promise(o=>{if(n&&n.id)return chrome.tabs.sendMessage(n.id,{type:"postMessage",control:t},()=>{o(!0)});o(!1)})}return{...PluginBase,init:function(){c.test(window.location.origin)&&chrome.runtime.onMessage.addListener((t,a,n)=>{if(t.type==="postMessage"){switch(t.control){case e.Play:{r(e.Play);break}case e.Pause:r(e.Pause);break;case e.Next:r(e.Next);break;case e.Previous:r(e.Previous);break;default:break}n(null)}})},commands:{}}})();
