import PluginBase from 'chrome-extension://lnnmjmalakahagblkkcnjkoaihlfglon/dist/modules/plugin-base.js';import ExtensionUtil from 'chrome-extension://lnnmjmalakahagblkkcnjkoaihlfglon/dist/modules/extension-util.js';var o=`${PluginBase.util.getNoCollisionUniqueAttr()}-thing`;var n={languages:{ja:{niceName:"レディット",description:"Redditで操作します",authors:"Miko",commands:{"View Comments":{name:"コメントを診ます",match:["こめんと#"]}}},ru:{niceName:"Реддит",description:"Команды для сайта Reddit.com",authors:"Hanna, Miko",homophones:{reddit:"реддит",голоса:"голос за"},commands:{"View Comments":{name:"Открыть комментарии",description:"Открывает комментарии к посту названного номера.",match:["[комментарии/комменты] к #"]},"Visit Post":{name:"Открыть пост",description:"Кликает пост названного номера.",match:["открыть пост[/ #]"]},"Visit Current":{name:"Открыть пост",description:"Кликает пост.",match:["открыть пост"]},Expand:{name:"Развернуть",description:"Развернуть превью поста или комментария названного номера.",match:["развернуть #","# развернуть"]},"Expand Current":{name:"Развернуть",description:"Развернуть превью поста или комментария.",match:"развернуть"},Collapse:{name:"Свернуть",description:"Свернуть развернутый пост или комментарий. Если не назван номер, автоматически сворачивает самый верхний пост/ комментарий в пределах экрана.",match:["[свернуть/закрыть] #"]},"Collapse Current":{name:"Свернуть",description:"Свернуть развернутый пост или комментарий. Если не назван номер, автоматически сворачивает самый верхний пост/ комментарий в пределах экрана.",match:["свернуть","закрыть"]},"Go to Reddit":{name:"Открыть реддит",description:"Переходит на сайт reddit.com",match:"реддит"},"Clear Vote":{name:"Убрать голос",description:"Убирает последний голос за или против последнего поста или поста названного номера",match:"убрать голос #"},"Clear Vote Current":{name:"Убрать голос",description:"Убирает последний голос за или против последнего поста или поста",match:"убрать голос"},Downvote:{name:"Голос против",description:"Голосует поста названного # (пока нет поддержки комментариев)",match:"голос против #"},"Downvote Current":{name:"Голос против",description:"Голосует против данного поста (пока нет поддержки комментариев)",match:"голос против"},Upvote:{name:"Голос за",description:"Голосует за пост названного # (пока нет поддержки комментариев)",match:"голос за #"},"Upvote Current":{name:"Голос за",description:"Голосует за данный пост (пока нет поддержки комментариев)",match:"голос за"},"Expand All Comments":{name:"Показать все комментарии",description:"Открывает все комментарии к данному посту",match:["[показать/открыть] все комментарии"]}}}},niceName:"Reddit",description:"Commands for Reddit.com",version:"4.4.1",apiVersion:2,match:/^https?:\/\/.*\.reddit.com/,authors:"Miko",homophones:{navigate:"go",contract:"collapse",claps:"collapse",expense:"expand",explain:"expand",expanding:"expand","expand noun":"expand 9","it's been":"expand",expanse:"expand",expanded:"expand",stand:"expand",xpand:"expand",xmen:"expand",spend:"expand",span:"expand",spell:"expand",spent:"expand","reddit dot com":"reddit","read it":"reddit",shrink:"collapse",advert:"upvote",download:"downvote"},contexts:{"Post List":{commands:["View Comments","Visit Post","Expand","Collapse","Upvote","Downvote","Clear Vote"]},Post:{commands:["Upvote Current","Downvote Current","Clear Vote Current","Visit Current","Expand Current","Collapse Current","Expand All Comments"]}},commands:[{name:"Go to Reddit",global:!0,match:["[/go to ]reddit"],minConfidence:.5},{name:"Go to Subreddit",match:{fn:()=>{},description:"go to/show r [subreddit name] (do not say slash)"},isFinal:!0,nice:(t,e)=>`go to r/${e}`},{name:"View Comments",description:"View the comments of a reddit post.",match:["comments #","# comments"],normal:!1},{name:"Visit Post",description:"Equivalent of clicking a reddit post.",match:["visit #","# visit"],normal:!1},{name:"Expand",description:"Expand a preview of a post, or a comment by it's position (rank).",match:["expand #","# expand"],normal:!1},{name:"Collapse",description:"Collapse an expanded preview (or comment if viewing comments). Defaults to topmost in the view port.",match:["collapse #","# collapse"],normal:!1},{name:"Upvote",match:["upvote #","# upvote"],description:"Upvote the post # (doesn't work for comments yet)",normal:!1},{name:"Downvote",match:["downvote #","# downvote"],description:"Downvote the post # (doesn't work for comments yet)",normal:!1},{name:"Clear Vote",description:"Unsets the upvote/downvote so it's neither up or down.",match:["[clear/reset] vote #","# [clear/reset] vote"],normal:!1},{name:"Upvote Current",match:"upvote",description:"Upvote the current post.",normal:!1},{name:"Downvote Current",match:"downvote",description:"Downvote the post # (doesn't work for comments yet)",normal:!1},{name:"Clear Vote Current",description:"Unsets the upvote/downvote so it's neither up or down.",match:["[clear/reset] vote"],normal:!1},{name:"Visit Current",description:"Click the link for the post that we're in.",match:"visit",normal:!1},{name:"Expand Current",description:"Expand the post that we're in.",match:"expand",normal:!1},{name:"Collapse Current",description:"Collapse the current post that we're in.",match:["collapse","close"],normal:!1},{name:"Expand All Comments",description:"Expands all the comments.",match:["expand all[/ comments]"],normal:!1}]};export{n as default};
LS-SPLITallPlugins.Reddit=(()=>{var a=`${PluginBase.util.getNoCollisionUniqueAttr()}-thing`,s=/reddit.com\/r\/[^\/]*\/comments\//;function n(t){return`#siteTable>div.thing[${a}="${t}"]`}function r(t){let e=document.querySelector(t);e&&e.click()}function l(t,e){let o;switch(t){case"up":e?o=`${n(e)} .arrow.up:not(.upmod)`:o='#siteTable *[role="button"][aria-label="upvote"]:not(.upmod)';break;case"down":e?o=`${n(e)} .arrow.down:not(.downmod)`:o='#siteTable *[role="button"][aria-label="downvote"]:not(.downmod)';break;default:e?o=`${n(e)} .arrow.downmod,${n(e)} .arrow.upmod`:o='#siteTable *[role="button"][aria-label="downvote"].arrow.downmod,#siteTable *[role="button"][aria-label="upvote"].arrow.upmod';break}r(o)}var c={...PluginBase,init:async()=>{if(document.location.hostname.endsWith("reddit.com")){/^https?:\/\/www.reddit/.test(document.location.href)&&(document.location.href=document.location.href.replace(/^https?:\/\/.*\.reddit.com/,"http://old.reddit.com")),s.test(document.location.href)?(PluginBase.util.prependContext("Post"),PluginBase.util.removeContext("Post List")):(PluginBase.util.prependContext("Post List"),PluginBase.util.removeContext("Post")),await PluginBase.util.ready();let t=0;for(let e of document.querySelectorAll("#siteTable>div.thing")){t++,e.setAttribute(a,""+t);let o=e.querySelector(".rank");o.setAttribute("style",`
                  display: block !important;
                  margin-right: 10px;
                  opacity: 1 !important';
              `),o.innerText=""+t}}},destroy:()=>{PluginBase.util.removeContext("Post List","Post")},commands:{"Go to Reddit":{pageFn:()=>{document.location.href="https://old.reddit.com"}},"Go to Subreddit":{match:{en:({normTs:t,preTs:e})=>{let o=/\b(?:go to |show )?(?:are|our|r) (.*)/,i=e.match(o);if(i){let d=i.index+i[0].length;return[i.index,d,[i[1].replace(/\s/g,"")]]}}},isFinal:!0,nice:(t,e)=>`go to r/${e}`,pageFn:(t,e)=>{window.location.href=`https://old.reddit.com/r/${e}`}},"View Comments":{pageFn:(t,e)=>{r(n(e)+" a.comments")}},"Visit Post":{pageFn:(t,e)=>{r(n(e)+" a.title")}},Expand:{pageFn:(t,e)=>{let o=document.querySelector(`${n(e)} .expando-button.collapsed`);o.click(),PluginBase.util.scrollToAnimated(o,-25)}},Collapse:{pageFn:(t,e)=>{document.querySelector(n(e)+" .expando-button:not(.collapsed)").click()}},Upvote:{pageFn:(t,e)=>{l("up",e)}},Downvote:{pageFn:(t,e)=>{l("down",e)}},"Clear Vote":{pageFn:(t,e)=>{l("clear",e)}},"Upvote Current":{pageFn:()=>l("up")},"Downvote Current":{pageFn:()=>l("down")},"Clear Vote Current":{pageFn:()=>l("clear")},"Visit Current":{pageFn:()=>r("#siteTable p.title a.title")},"Expand Current":{pageFn:()=>{let t=document.querySelector("#siteTable .thing .expando-button.collapsed"),e=Array.from(document.querySelectorAll(".commentarea > div > .thing.collapsed"));if(t&&PluginBase.util.isVisible(t))t.click();else{let o;for(o of e.reverse())if(PluginBase.util.isVisible(o)){o.querySelector(".comment.collapsed a.expand").click();return}}}},"Collapse Current":{pageFn:()=>{for(let t of document.querySelectorAll("#siteTable .thing .expando-button.expanded, .commentarea>div>div.thing:not(.collapsed)>div>p>a.expand"))if(PluginBase.util.isVisible(t)){t.click();break}}},"Expand All Comments":{pageFn:async()=>{for(let t of document.querySelectorAll(".thing.comment.collapsed a.expand"))t.click()}}}};return c})();
LS-SPLITallPlugins.Reddit=(()=>{var n=`${PluginBase.util.getNoCollisionUniqueAttr()}-thing`,l=/reddit.com\/r\/[^\/]*\/comments\//;function i(e){return`#siteTable>div.thing[${n}="${e}"]`}function r(e){let t=document.querySelector(e);t&&t.click()}function s(e,t){let o;switch(e){case"up":t?o=`${i(t)} .arrow.up:not(.upmod)`:o='#siteTable *[role="button"][aria-label="upvote"]:not(.upmod)';break;case"down":t?o=`${i(t)} .arrow.down:not(.downmod)`:o='#siteTable *[role="button"][aria-label="downvote"]:not(.downmod)';break;default:t?o=`${i(t)} .arrow.downmod,${i(t)} .arrow.upmod`:o='#siteTable *[role="button"][aria-label="downvote"].arrow.downmod,#siteTable *[role="button"][aria-label="upvote"].arrow.upmod';break}r(o)}var a={...PluginBase,init:async()=>{if(document.location.hostname.endsWith("reddit.com")){/^https?:\/\/www.reddit/.test(document.location.href)&&(document.location.href=document.location.href.replace(/^https?:\/\/.*\.reddit.com/,"http://old.reddit.com")),l.test(document.location.href)?(PluginBase.util.prependContext("Post"),PluginBase.util.removeContext("Post List")):(PluginBase.util.prependContext("Post List"),PluginBase.util.removeContext("Post")),await PluginBase.util.ready();let e=0;for(let t of document.querySelectorAll("#siteTable>div.thing")){e++,t.setAttribute(n,""+e);let o=t.querySelector(".rank");o.setAttribute("style",`
                  display: block !important;
                  margin-right: 10px;
                  opacity: 1 !important';
              `),o.innerText=""+e}}},destroy:()=>{PluginBase.util.removeContext("Post List","Post")},commands:{"Go to Reddit":{pageFn:()=>{document.location.href="https://old.reddit.com"}}}};return a})();
