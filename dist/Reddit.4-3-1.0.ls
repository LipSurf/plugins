import PluginBase from 'chrome-extension://lnnmjmalakahagblkkcnjkoaihlfglon/dist/modules/plugin-base.js';import ExtensionUtil from 'chrome-extension://lnnmjmalakahagblkkcnjkoaihlfglon/dist/modules/extension-util.js';var n=`${PluginBase.util.getNoCollisionUniqueAttr()}-thing`;var o={languages:{ja:{niceName:"レディット",description:"Redditで操作します",authors:"Miko",commands:{"View Comments":{name:"コメントを診ます",match:["こめんと#"]}}},ru:{niceName:"Реддит",description:"Команды для сайта Reddit.com",authors:"Hanna",homophones:{reddit:"реддит",голоса:"голос за"},commands:{"View Comments":{name:"Открыть комментарии",description:"Открывает комментарии к посту названного номера.",match:["[комментарии/комменты] к #"]},"Visit Post":{name:"Открыть пост",description:"Кликает пост названного номера.",match:["открыть пост[/ #]"]},Expand:{name:"Развернуть",description:"Развернуть превью поста или комментария названного номера.",match:["развернуть[/ #]","# развернуть"]},Collapse:{name:"Свернуть",description:"Свернуть развернутый пост или комментарий. Если не назван номер, автоматически сворачивает самый верхний пост/ комментарий в пределах экрана.",match:["свернуть[/ #]","закрыть"]},"Go to Reddit":{name:"Открыть реддит",description:"Переходит на сайт reddit.com",match:["реддит"]},"Clear Vote":{name:"Убрать голос",description:"Убирает последний голос за или против последнего поста или поста названного номера",match:["убрать голос[ #/]"]},Downvote:{name:"Голос против",description:"Голосует против данного поста или поста названного # (пока нет поддержки комментариев)",match:["голос против[ #/]"]},Upvote:{name:"Голос за",description:"Голосует за данный пост или пост названного # (пока нет поддержки комментариев)",match:["голос за[ #/]"]},"Expand All Comments":{name:"Показать все комментарии",description:"Открывает все комментарии к данному посту",match:["[показать/открыть] все комментарии"]}}}},niceName:"Reddit",description:"Commands for Reddit.com",version:"4.3.1",apiVersion:2,match:/^https?:\/\/.*\.reddit.com/,authors:"Miko",homophones:{navigate:"go",contract:"collapse",claps:"collapse",expense:"expand",explain:"expand",expanding:"expand","expand noun":"expand 9","it's been":"expand",expanse:"expand",expanded:"expand",stand:"expand",xpand:"expand",xmen:"expand",spend:"expand",span:"expand",spell:"expand",spent:"expand","reddit dot com":"reddit","read it":"reddit",shrink:"collapse",advert:"upvote"},commands:[{name:"View Comments",description:"View the comments of a reddit post.",match:"comments #"},{name:"Visit Post",description:"Equivalent of clicking a reddit post.",match:["visit[ #/]"]},{name:"Expand",description:"Expand a preview of a post, or a comment by it's position (rank).",match:["expand[ #/]","# expand"]},{name:"Collapse",description:"Collapse an expanded preview (or comment if viewing comments). Defaults to topmost in the view port.",match:["collapse[ #/]","close"]},{name:"Go to Subreddit",match:{fn:()=>{},description:"go to/show r [subreddit name] (do not say slash)"},isFinal:!0,nice:(t,e)=>`go to r/${e}`},{name:"Go to Reddit",global:!0,match:["[/go to ]reddit"],minConfidence:.5},{name:"Clear Vote",description:"Unsets the last vote so it's neither up or down.",match:["[clear/reset] vote[ #/]"]},{name:"Downvote",match:["downvote[ #/]"],description:"Downvote the current post or a post # (doesn't work for comments yet)"},{name:"Upvote",match:["upvote[ #/]"],description:"Upvote the current post or a post # (doesn't work for comments yet)"},{name:"Expand All Comments",description:"Expands all the comments.",match:["expand all[/ comments]"]}]};export{o as default};
LS-SPLITallPlugins.Reddit=(()=>{var a=`${PluginBase.util.getNoCollisionUniqueAttr()}-thing`,c=/reddit.com\/r\/[^\/]*\/comments\//;function o(n){return`#siteTable>div.thing[${a}="${n}"]`}function i(n){let e=document.querySelector(n);e&&e.click()}var s={...PluginBase,init:async()=>{/^https?:\/\/www.reddit/.test(document.location.href)&&(document.location.href=document.location.href.replace(/^https?:\/\/.*\.reddit.com/,"http://old.reddit.com")),await PluginBase.util.ready();let n=0;for(let e of document.querySelectorAll("#siteTable>div.thing")){n++,e.setAttribute(a,""+n);let t=e.querySelector(".rank");t.setAttribute("style",`
                display: block !important;
                margin-right: 10px;
                opacity: 1 !important';
            `),t.innerText=""+n}},commands:{"View Comments":{pageFn:async(n,e)=>{i(o(e)+" a.comments")}},"Visit Post":{pageFn:async(n,e)=>{c.test(window.location.href)?i("#siteTable p.title a.title"):i(o(e)+" a.title")}},Expand:{pageFn:async(n,e)=>{if(typeof e!="undefined"){let t=document.querySelector(`${o(e)} .expando-button.collapsed`);t.click(),PluginBase.util.scrollToAnimated(t,-25)}else{let t=document.querySelector("#siteTable .thing .expando-button.collapsed"),l=Array.from(document.querySelectorAll(".commentarea > div > .thing.collapsed"));if(t&&PluginBase.util.isVisible(t))t.click();else{let r;for(r of l.reverse())if(PluginBase.util.isVisible(r)){r.querySelector(".comment.collapsed a.expand").click();return}}}}},Collapse:{pageFn:async(n,e)=>{let t=e===null||isNaN(Number(e))?null:Number(e);if(t!==null)document.querySelector(o(t)+" .expando-button:not(.collapsed)").click();else for(let l of document.querySelectorAll("#siteTable .thing .expando-button.expanded, .commentarea>div>div.thing:not(.collapsed)>div>p>a.expand"))if(PluginBase.util.isVisible(l)){l.click();break}}},"Go to Subreddit":{match:{en:({normTs:n,preTs:e})=>{let t=/\b(?:go to |show )?(?:are|our|r) (.*)/,l=e.match(t);if(l){let r=l.index+l[0].length;return[l.index,r,[l[1].replace(/\s/g,"")]]}}},isFinal:!0,nice:(n,e)=>`go to r/${e}`,pageFn:async(n,e)=>{window.location.href=`https://old.reddit.com/r/${e}`}},"Go to Reddit":{pageFn:async()=>{document.location.href="https://old.reddit.com"}},"Clear Vote":{pageFn:async(n,e)=>{let t=e===null||isNaN(Number(e))?1:Number(e);i(`${o(t)} .arrow.downmod,${o(t)} .arrow.upmod`)}},Downvote:{pageFn:async(n,e)=>{let t=e===null||isNaN(Number(e))?1:Number(e);i(`${o(t)} .arrow.down:not(.downmod)`)}},Upvote:{pageFn:async(n,e)=>{let t=e===null||isNaN(Number(e))?1:Number(e);i(`${o(t)} .arrow.up:not(.upmod)`)}},"Expand All Comments":{pageFn:async()=>{for(let n of document.querySelectorAll(".thing.comment.collapsed a.expand"))n.click()}}}};return s})();
LS-SPLITallPlugins.Reddit=(()=>{var i=`${PluginBase.util.getNoCollisionUniqueAttr()}-thing`,r=/reddit.com\/r\/[^\/]*\/comments\//;function l(t){return`#siteTable>div.thing[${i}="${t}"]`}function c(t){let e=document.querySelector(t);e&&e.click()}var o={...PluginBase,init:async()=>{/^https?:\/\/www.reddit/.test(document.location.href)&&(document.location.href=document.location.href.replace(/^https?:\/\/.*\.reddit.com/,"http://old.reddit.com")),await PluginBase.util.ready();let t=0;for(let e of document.querySelectorAll("#siteTable>div.thing")){t++,e.setAttribute(i,""+t);let n=e.querySelector(".rank");n.setAttribute("style",`
                display: block !important;
                margin-right: 10px;
                opacity: 1 !important';
            `),n.innerText=""+t}},commands:{"Go to Reddit":{pageFn:async()=>{document.location.href="https://old.reddit.com"}}}};return o})();
